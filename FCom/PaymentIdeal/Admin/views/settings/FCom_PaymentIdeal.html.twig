{% set c = THIS.get('model') %}
{% set mname = MODULES.currentModuleName() %}
{% set baseHtmlName = "config[modules][" ~ mname ~ "]" %}
{% set baseConfigPath = "modules/" ~ mname %}
{% set prefix = "ideal_" %}
{% set fieldData = { model: c, id_prefix: prefix, name_prefix: baseHtmlName } %}
{% import THIS.view('admin/form-elements').twigName() as forms %}
{{ forms.accordion_start({id:'settings-FCom_PaymentIdeal'}) }}
     {{ forms.accordion_panel_start({label:'iDEAL Settings'|_, id:'settings-FCom_PaymentIdeal-group0', in:1}) }}
        <div class="form-group">
            <label class="col-md-2 control-label" for="{{ prefix }}active">{{ "Enabled"|_ }}</label>
            <div class="col-md-5">
                <input type="hidden" name="{{ baseHtmlName }}[active]" value="0" />
                <input id ="{{ prefix }}active" type="checkbox" class="switch-cbx" name="{{ baseHtmlName }}[active]"
                       value="1" {% if c.get(baseConfigPath ~ '/active') == 1 %}checked="checked"{% endif %} />
            </div>
        </div>
        {{ forms.input(fieldData|merge({field:'title', label:'Display Title'|_, value: c.get(baseConfigPath ~ '/title')})) }}
        {{ forms.input(fieldData|merge({field:'partner_id', label:'Pertner ID'|_, value: c.get(baseConfigPath ~ '/partner_id')})) }}
        {{ forms.input(fieldData|merge({field:'profile_key', label:'Profile Key'|_, value: c.get(baseConfigPath ~ '/profile_key')})) }}
        {{ forms.input(fieldData|merge({field:'sort_order', label:'Payment Method Sort Order'|_, value: c.get(baseConfigPath ~ '/sort_order')})) }}
        {{ forms.select(fieldData|merge({field:'order_status', label:'New Order Status'|_, options: {'':'Select One', 'processing':'Processing'}, value: c.get(baseConfigPath ~ '/order_status')})) }}
        {{ forms.input(fieldData|merge({field:'recent_day', label:'Orders Recent Days'|_, attr: 'data-rule-number="true"', value:c.get('modules/FCom_Sales/recent_day')})) }}
        <div class="form-group">
            <label class="col-md-2 control-label" for="{{ prefix }}test">{{ "Test Mode"|_ }}</label>
            <div class="col-md-5">
                <input type="hidden" name="{{ baseHtmlName }}[test]" value="0" />
                <input id ="{{ prefix }}test" type="checkbox" class="switch-cbx" name="{{ baseHtmlName }}[test]"
                       value="1" {% if c.get(baseConfigPath ~ '/test') == 1 %}checked="checked"{% endif %} />
            </div>
        </div>
    {{ forms.accordion_panel_end }}
{{ forms.accordion_end }}

