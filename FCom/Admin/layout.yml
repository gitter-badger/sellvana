base:
  - { root: root }
  - { hook: head, views: head }
  - { hook: header, views: admin/header }
  - { hook: top-nav, views: admin/nav }
  - { hook: before_body_end, views: bottom_scripts }

  - { callback: FCom_Core_Main::defaultThemeCustomLayout }
  - { callback: FCom_Admin_Admin::layout }

  - view: head
    do:
      - [ meta, Content-Type, "text/html; charset=UTF-8", true ]
      - [ icon, @FCom_Core/favicon.ico ]
      #- [ js, @FCom_Core/js/lib/head.min.js ]
      - [ css, @FCom_Admin/compass/css/screen.css ]
      - [ js, @FCom_Core/js/lib/html5shiv.min.js, { if: lt IE 9 } ]
      - [ js, @FCom_Core/js/lib/es5-shim.min.js, { if: lt IE 9 } ]
      - [ js, //ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js ]
      #- [ css, @FCom_Core/js/lib/css/smoothness/jquery-ui-1.8.17.custom.css ]
      - [ css, @FCom_Core/js/select2/select2.css ]
      - [ css, @FCom_Core/css/core.css ]
      - [ css, //ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/themes/smoothness/jquery-ui.min.css ]
      #- [ css, @FCom_Core/js/lib/css/layout-default-latest.css ]
      #- [ css, @FCom_Core/js/lib/css/jquery.pnotify.default.css ]
      #- [ css, @FCom_Core/bootstrap/css/bootstrap.min.css ]
      #- [ css, @FCom_Core/bootstrap/css/bootstrap-responsive.min.css ]

  #- { include: foundation3 }

  - view: bottom_scripts
    do:
      - [ js, @FCom_Core/js/lib/json2.js ]
      - [ js, //ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js ]
      - [ js, @FCom_Core/js/lib/angular.min.js ]
      #- [ js, @FCom_Core/js/lib/jquery.ba-hashchange.min.js ]
      - [ js, @FCom_Core/js/lib/jquery.cookie.js ]
      - [ js, @FCom_Core/js/lib/jquery.hotkeys.js ]
      - [ js, @FCom_Core/js/lib/jquery.layout-latest.min.js ]
      #- [ js, @FCom_Core/js/lib/jquery.pnotify.min.js ]
      - [ js, @FCom_Core/js/select2/select2.min.js ]
      # highcharts
      - [ js, @FCom_Admin/js/highcharts/highcharts.js ]
      #- [ js, @FCom_Core/bootstrap/js/bootstrap.min.js ]
      - [ js, @FCom_Core/js/fcom.core.js ]
      - [ js, @FCom_Admin/js/fcom.admin.js ]

  - { include: grid }
  - { include: jqgrid }
  - { include: jstree }


  - view: head
    do:
      #- [ css, @FCom_Admin/css/fcom.admin.css ] # need to be separate from other CSS for correct ordering in styling

  - view: admin/nav
    do:
      - [ addNav, home, { label: Dashboard, href: /, pos: 10 } ]
      - [ addNav, system, { label: System, pos: 900 } ]
      - [ addNav, system/users, { label: Users, href: /users } ]
      - [ addNav, system/roles, { label: Roles & Permissions, href: /roles } ]
      - [ addNav, system/settings, { label: Settings, href: /settings } ]
      - [ addNav, system/modules, { label: Installed Modules, href: /modules } ]

  - view: admin/header
    do:
      - [ addShortcut, system/users, { label: New User, href: /users/form } ]

grid:
  - view: head
    do:
      - [ css, @FCom_Core/js/lib/css/dragtable-default.css ]

  - view: bottom_scripts
    do:
      - [ js, @FCom_Core/js/lib/jquery.dragtable.js ]
      #- [ js, @FCom_Core/js/lib/colResizable-1.3.source.js ]

jqgrid:
  - view: head
    do:
      - [ css, @FCom_Core/js/lib/jqGrid/ui.jqgrid.css ]
      - [ css, @FCom_Core/js/lib/jqGrid/plugins/ui.multiselect.css ]

      # - [ css, @FCom_Core/js/lib/jqGrid/css/ui.jqgrid.css ]

      # - [ css, @FCom_Core/js/lib/jqGrid/plugins/ui.multiselect.css ]

  - view: bottom_scripts
    do:
      - [ js, @FCom_Core/js/lib/jqGrid/plugins/ui.multiselect.js ]
      - [ js, @FCom_Core/js/lib/jqGrid/i18n/grid.locale-en.js ]
      - [ js, @FCom_Core/js/lib/jqGrid/jquery.jqGrid.min.js ]
      - [ js, @FCom_Core/js/lib/jqGrid/plugins/jquery.tablednd.js ]
      - [ js, @FCom_Core/js/lib/jqGrid/plugins/jquery.contextmenu.js ]

      # - [ js, @FCom_Core/js/lib/jqGrid/plugins/ui.multiselect.js ]

      # - [ js, @FCom_Core/js/lib/jqGrid/js/i18n/grid.locale-en.js ]
      # - [ js, @FCom_Core/js/lib/jqGrid/dist/jquery.jqGrid.min.js ]

      # - [ js, @FCom_Core/js/lib/jqGrid/js/grid.base.js ] # jqGrid base
      # - [ js, @FCom_Core/js/lib/jqGrid/js/grid.common.js ] # jqGrid common for editing
      # - [ js, @FCom_Core/js/lib/jqGrid/js/grid.formedit.js ] # jqGrid Form editing
      # - [ js, @FCom_Core/js/lib/jqGrid/js/grid.inlinedit.js ] # jqGrid inline editing
      # - [ js, @FCom_Core/js/lib/jqGrid/js/grid.celledit.js ] # jqGrid cell editing
      # - [ js, @FCom_Core/js/lib/jqGrid/js/grid.subgrid.js ] #jqGrid subgrid
      # - [ js, @FCom_Core/js/lib/jqGrid/js/grid.treegrid.js ] #jqGrid treegrid
      # - [ js, @FCom_Core/js/lib/jqGrid/js/grid.grouping.js ] #jqGrid grouping
      # - [ js, @FCom_Core/js/lib/jqGrid/js/grid.custom.js ] #jqGrid custom
      # - [ js, @FCom_Core/js/lib/jqGrid/js/grid.tbltogrid.js ] #jqGrid table to grid
      # - [ js, @FCom_Core/js/lib/jqGrid/js/grid.import.js ] #jqGrid import
      # - [ js, @FCom_Core/js/lib/jqGrid/js/jquery.fmatter.js ] #jqGrid formater
      # - [ js, @FCom_Core/js/lib/jqGrid/js/JsonXml.js ] # xmljson utils
      # - [ js, @FCom_Core/js/lib/jqGrid/js/grid.jqueryui.js ] # jQuery UI utils
      # - [ js, @FCom_Core/js/lib/jqGrid/js/grid.filter.js ] # filter Plugin

jstree:
  - view: head
    do:
      - [ css, @FCom_Core/js/lib/themes/default/style.css ]
  - view: bottom_scripts
    do:
      - [ js, @FCom_Core/js/lib/jquery.jstree.js ]

mcdropdown:
  - view: head
    do:
      - [ css, @FCom_Core/js/lib/css/jquery.mcdropdown.css ]
  - view: bottom_scripts
    do:
      - [ js, @FCom_Core/js/lib/jquery.mcdropdown.js ]
      - [ js, @FCom_Core/js/lib/jquery.bgiframe.js ]

codemirror:
  - view: head
    do:
      - [ css, @FCom_Admin/js/codemirror/lib/codemirror.css ]
  - view: bottom_scripts
    do:
      - [ js, @FCom_Admin/js/codemirror/lib/codemirror.js ]
      - [ js, @FCom_Admin/js/codemirror/addon/mode/loadmode.js ]

form:
  - view: head
    do:
      - [ css, @FCom_Core/js/lib/themes/default/style.css ]
  - view: bottom_scripts
    do:
      - [ js, @FCom_Core/js/lib/ckeditor/ckeditor.js ]
      - [ js, @FCom_Core/js/lib/ckeditor/adapters/jquery.js ]
      - [ js, @FCom_Core/js/lib/jquery.jstree.js ]
      - [ js, @FCom_Core/js/lib/jquery.validate.min.js ]

404:
  - { include: base }
  - { hook: main, views: 404 }

/:
    - { include: base }
    - { hook: main, views: home }
    - { view: admin/nav, do: [[ setNav, home ]] }

/denied:
    - { include: base }
    - { hook: main, views: denied }


/login:
    - { include: base }
    - { include: form }
    - { hook: main, views: login }

/password/recover:
    - { include: base }
    - { include: form }
    - { hook: main, views: password/recover }

/password/reset:
    - { include: base }
    - { include: form }
    - { hook: main, views: password/reset }


/my_account:
    - { include: base }
    - { hook: main, views: my_account }

/reports:
    - { include: base }
    - { hook: main, views: reports }

/users:
    - { include: base }
    - { hook: main, views: admin/grid }
    - { view: admin/nav, do: [[ setNav, admin/users ]] }

/users/form:
    - { include: base }
    - { include: form }
    - { view: admin/nav, do: [[ setNav, admin/users ]] }
    - { hook: main, views: admin/form }
    - view: admin/form
      set: { tab_view_prefix: users-form/ }
      do:
        - [ addTab, main, { label: General Info } ]
        - [ addTab, history, { label: History } ]

/roles:
    - { include: base }
    - { hook: main, views: admin/grid }
    - { view: admin/nav, do: [[ setNav, admin/roles ]] }

/roles/form:
    - { include: base }
    - { include: form }
    - { view: admin/nav, do: [[ setNav, admin/roles ]] }
    - { hook: main, views: admin/form }
    - view: admin/form
      set: { tab_view_prefix: roles-form/ }
      do:
        - [ addTab, main, { label: Permissions } ]
        - [ addTab, users, { label: Users } ]

/settings:
    - { include: base }
    - { include: form }
    - { include: codemirror }
    - { hook: main, views: settings }
    - { view: admin/nav, do: [[ setNav, admin/settings ]] }
    - view: settings
      set: { tab_view_prefix: settings/ }
      do:
        - [ addTabGroup, other, { label: Other, pos: 900 } ]
        - [ addTabGroup, areas, { label: Areas, pos: 10 } ]
        - [ addTab, FCom_Core, { label: Fulleron Core, group: areas, async: true } ]
        - [ addTab, FCom_Admin, { label: Fulleron Admin, group: areas, async: true } ]
        - [ addTab, FCom_Frontend, { label: Fulleron Frontend, group: areas, async: true } ]

/modules:
    - { include: base }
    - { hook: main, views: modules }
    - { view: admin/nav, do: [[ setNav, admin/modules ]] }
