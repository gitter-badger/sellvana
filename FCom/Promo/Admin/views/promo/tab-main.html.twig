{% set m = THIS.model %}
{% set promo = APP.instance('FCom_Promo_Model_Promo') %}
{% set locale = APP.instance('BLocale') %}
{% set validator = THIS.get('validator') %}

<fieldset class="adm-section-group">
    <div class="form-group">
        <label class="col-md-2 control-label" for="model-description">{{ 'Description'|_ }}</label>
        <div class="col-md-5">
            <input class="form-control"id="model-description"  type="text" name="model[description]" value="{{ validator.fieldValue('description') }}"/>
        </div>
    </div>

    <div class="form-group">
        <label class="col-md-2 control-label" for="model-from_date">{{ 'Date Range'|_ }}</label>
        <div class="col-md-5">
            {{ 'Start:'|_ }}
            <input type="text" id="model-from_date" name="model[from_date]" value="{{ locale.datetimeDbToLocal(validator.fieldValue('from_date'))|raw }}" class="datepicker form-control"/>
            <br />
            {{ ' End:'|_ }}
            <input type="text" id="model-to_date" name="model[to_date]" value="{{ locale.datetimeDbToLocal(validator.fieldValue('to_date'))|raw }}" class="datepicker form-control"/>
        </div>
    </div>

    <div class="form-group">
        <label class="col-md-2 control-label" for="model-from_date">{{ 'Promotion Structure'|_ }}</label>
        <div class="col-md-5">
            {{ 'BUY'|_ }}
            <select class="form-control" name="model[buy_type]">{{ UTIL.optionsHtml(promo.fieldOptions('buy_type'), validator.fieldValue('buy_type'))|raw }}</select>
            <br />
            {{ 'FROM'|_ }}
            <select class="form-control" name="model[buy_group]">{{ UTIL.optionsHtml(promo.fieldOptions('buy_group'), validator.fieldValue('buy_group'))|raw }}</select>
            <br />
            {{ 'GET'|_ }}
            <select class="form-control" name="model[get_type]">{{ UTIL.optionsHtml(promo.fieldOptions('get_type'), validator.fieldValue('get_type'))|raw }}</select>
            <br />
            {{ 'OF'|_ }}
            <select class="form-control" name="model[get_group]">{{ UTIL.optionsHtml(promo.fieldOptions('get_group'), validator.fieldValue('get_group'))|raw }}</select>
        </div>
    </div>

    <div class="form-group">
        <label class="col-md-2 control-label" for="model-details">{{ 'Details'|_ }}</label>
        <div class="col-md-5">
            <textarea class="form-control" id="model-details" name="model[details]" rows="5">{{ validator.fieldValue('details')  }}</textarea>
        </div>
    </div>

</fieldset>
<script>
    require(['jquery', 'bootstrap', 'datetimepicker', 'fcom.admin.form'], function($) {
        $(function() {
            //adminForm.wysiwygCreate('model-details');
            $('#model-from_date,#model-to_date').datepicker();
        })
    })
</script>
