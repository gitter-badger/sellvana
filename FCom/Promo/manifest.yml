modules:
    FCom_Promo:
        version: 0.1.6
        channel: beta
        require: { module: { FCom_Catalog: 0.1.0, FCom_Sales: 0.2.0 }}
        description: "Promotions module"

        areas:
            FCom_Admin:
                auto_use: [ all ]
                routing:
                    - [ /promo, FCom_Promo_Admin_Controller.index ]
                    - [ /promo/.action, FCom_Promo_Admin_Controller ]
                    - [ /promo/coupons/view, FCom_Promo_Admin_Controller.coupons_grid ]
                    - [ /promo/coupons/generate, FCom_Promo_Admin_Controller.coupons_generate ]
                    - [ /promo/coupons/import, FCom_Promo_Admin_Controller.coupons_import ]

                    - [ "/promo/form/:id/products", FCom_Promo_Admin_Controller.form_products ]
                    - [ "/promo/form/:id/group", FCom_Promo_Admin_Controller.form_group ]

            FCom_Frontend:
                auto_use: [ views, layout ]
                routing:
                    - [ /promo/media, FCom_Promo_Frontend_Controller.media ]
                observe:
                    - [ "FCom_Sales_Model_Cart::calculateTotals", "FCom_Promo_Frontend::onPromoCartValidate" ]
                    - [ "FCom_Sales_Model_Cart::addProduct", "FCom_Promo_Frontend::onPromoCartAddProduct" ]
                    - [ "BLayout::hook:promotions", FCom_Promo_Frontend_Controller.hook_promotions ]
