modules:
    FCom_IndexTank:
        version: 0.2.1
        channel: beta
        translations: { de: de.php }
        description: "IndexTank API integration"
        require: { module: { FCom_Core: 0.1.0 } }
        areas:
            FCom_Admin:
                auto_use: [ bootstrap, views, layout ]
                require: { module: { BGanon: 0.5.0 } }
                routing:
                    - [ route, GET /indextank/product_fields, FCom_IndexTank_Admin_Controller_ProductFields.index ]
                    - [ route, GET|POST /indextank/product_fields/.action, FCom_IndexTank_Admin_Controller_ProductFields ]

                    - [ route, GET /indextank/product_functions, FCom_IndexTank_Admin_Controller_ProductFunctions.index ]
                    - [ route, GET|POST /indextank/product_functions/.action, FCom_IndexTank_Admin_Controller_ProductFunctions ]

                    - [ route, GET /indextank/products/index, FCom_IndexTank_Admin::productsIndexStart ]
                    - [ route, GET /indextank/products/index-pause, FCom_IndexTank_Admin::productsIndexPause ]
                    - [ route, GET /indextank/products/index-resume, FCom_IndexTank_Admin::productsIndexResume ]
                    - [ route, GET /indextank/products/indexing-status, FCom_IndexTank_Admin::productsIndexingStatus ]
                    #- [ route, GET /indextank/products/index-stop, FCom_IndexTank_Admin::productsStopIndexAll ]
                    - [ route, DELETE /indextank/products/index, FCom_IndexTank_Admin::productsDeleteAll ]
                observe:
                    # on update settings create new index if index was changed
                    - [ FCom_Admin_Controller_Settings::action_index__POST, FCom_IndexTank_Admin::onSaveAdminSettings ]

            FCom_Frontend:
                auto_use: [ views, layout ]
                routing:
                    - [ get, /indextank/search, FCom_IndexTank_Frontend_Controller.search ]
                observe:
                    - [ FCom_IndexTank_Index_Product::add, FCom_IndexTank_Index_Product::onProductIndexAdd ]
                override:
                    class:
                        - [ FCom_Catalog_Frontend_Controller_Search, FCom_IndexTank_Frontend_Controller ]
