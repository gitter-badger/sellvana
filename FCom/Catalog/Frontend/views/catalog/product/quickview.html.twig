
<!-- Modal -->
<div class="modal fade" id="f-prod-quickview" tabindex="-1" role="dialog" aria-labelledby="f-prod-quickview-label" aria-hidden="true" data-backdrop="false">
  <div class="modal-dialog f-prod-quickview">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">{{ 'Quick View'|_ }}</h4>
      </div>
      <div class="modal-body">
        <div class="f-ajax-loading" style="min-height:300px">{{ 'Please wait, loading...'|_ }}</div>
        <div class="f-prod-quickview-container"></div>
      </div><!-- /.modal-body -->
      <div class="modal-footer">
         <a href="#">{{ 'See more product details'|_ }}</a>
      </div><!-- /.modal-footer -->
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<script>
    require(['jquery', 'bootstrap'], function($) {
        var qvId, $qv = $('#f-prod-quickview'),
                $loader = $qv.find('.f-ajax-loading'),
                $container = $qv.find('.f-prod-quickview-container');

        $(document).on('click', '.f-prod-quickview-btn', function() {
            qvId = $(this).data('id');
        })
        $qv.on('show.bs.modal', function() {
            var qvUrl = '{{ APP.href('catalog/quickview') }}?id='+qvId;
            $loader.show();
            $container.hide().load(qvUrl, function() {
                $loader.hide();
                $container.show();
            });

        })
    })
</script>